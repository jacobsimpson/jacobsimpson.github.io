<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="VimL to Lua and back"><meta property="og:title" content="VimL to Lua and back" />
<meta property="og:description" content="" />
<meta property="og:type" content="website" />
<meta property="og:url" content="http://jacobsimpson.github.io/docs/communicating/" />

<title>VimL to Lua and back | Scripting Neovim with Lua</title>
<link rel="icon" href="/favicon.png" type="image/x-icon">


<link rel="stylesheet" href="/book.min.0379377fb17315c9a560efd4d406aea4535c095a461b220fd9e3d2e9c05550e6.css" integrity="sha256-A3k3f7FzFcmlYO/U1AaupFNcCVpGGyIP2ePS6cBVUOY=">


<script defer src="/en.search.min.034adfde15453c70038ad05629abb365b5cb03a220d9f8e103c8ff5e93904d71.js" integrity="sha256-A0rf3hVFPHADitBWKauzZbXLA6Ig2fjhA8j/XpOQTXE="></script>

<link rel="alternate" type="application/rss+xml" href="http://jacobsimpson.github.io/docs/communicating/index.xml" title="Scripting Neovim with Lua" />
<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->

  
</head>

<body>
  <input type="checkbox" class="hidden" id="menu-control" />
  <main class="flex container">

    <aside class="book-menu fixed">
      <nav>
<h2 class="book-brand">
  <a href="http://jacobsimpson.github.io"><span>Scripting Neovim with Lua</span>
  </a>
</h2>


<div class="book-search">
  <input type="text" id="book-search-input" placeholder="Search" aria-label="Search" maxlength="64" />
  <div class="book-search-spinner spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>





    

  
  





 
  
    




  
  <ul>
    
      
        

  <li >
    
      

  <a href="/docs/basic-plugin/" >
      A Basic Lua Plugin
  </a>


    

    






  </li>


      
    
      
        

  <li >
    
      

  <a href="/docs/communicating/"  class="active">
      VimL to Lua and back
  </a>


    

    




  
  <ul>
    
  </ul>
  



  </li>


      
    
      
        

  <li >
    
      

  <a href="/docs/job-control/" >
      Job Control
  </a>


    

    






  </li>


      
    
      
        

  <li >
    
      

  <a href="/docs/buffers-and-windows/" >
      Buffers and Windows
  </a>


    

    






  </li>


      
    
      
        

  <li >
    
      

  <a href="/docs/interacting/" >
      Interacting with the User
  </a>


    

    






  </li>


      
    
  </ul>
  



  











</nav>


<script>
(function() {
  var menu = document.querySelector("aside.book-menu nav");
  addEventListener("beforeunload", function(event) {
    localStorage.setItem("menu.scrollTop", menu.scrollTop);
  });
  menu.scrollTop = localStorage.getItem("menu.scrollTop");
})();
</script>

    </aside>

    <div class="book-page">
      <header class="flex align-center justify-between book-header">
  <label for="menu-control">
    <img src="/svg/menu.svg" alt="Menu" />
  </label>
  <strong>VimL to Lua and back</strong>
</header>

      
<article class="markdown">

<h1 id="viml-to-lua-and-back">VimL to Lua and back</h1>

<p>There are different reasons for having VimScript and Lua code interact, such as
calling existing functions, setting variables to configure other plugins, or
Neovim. Below are descriptions of techniques for different kinds of
interactions between VimScript and Lua.</p>

<h2 id="from-lua">From Lua</h2>

<h3 id="accessing-viml-variables">Accessing VimL Variables</h3>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-lua" data-lang="lua"><span style="color:#66d9ef">local</span> servername <span style="color:#f92672">=</span> vim.api.nvim_eval(<span style="color:#e6db74">&#34;v:servername&#34;</span>)</code></pre></div>

<h3 id="calling-viml-functions">Calling VimL Functions</h3>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-lua" data-lang="lua">nvim_call_function(...)</code></pre></div>

<h2 id="from-vimscript">From VimScript</h2>

<h3 id="calling-lua-code-from-viml">Calling Lua Code from VimL</h3>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-lua" data-lang="lua">nvim_execute_lua(...)</code></pre></div>
</article>

      <div class="book-footer justify-between">
  

  

  

</div>

      
    </div>

    
  

  <aside class="book-toc levels-6 fixed">
    <nav id="TableOfContents">
<ul>
<li><a href="#viml-to-lua-and-back">VimL to Lua and back</a>
<ul>
<li><a href="#from-lua">From Lua</a>
<ul>
<li><a href="#accessing-viml-variables">Accessing VimL Variables</a></li>
<li><a href="#calling-viml-functions">Calling VimL Functions</a></li>
</ul></li>
<li><a href="#from-vimscript">From VimScript</a>
<ul>
<li><a href="#calling-lua-code-from-viml">Calling Lua Code from VimL</a></li>
</ul></li>
</ul></li>
</ul>
</nav>
  </aside>



  </main>

  
</body>

</html>
